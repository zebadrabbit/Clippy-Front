{% extends "base.html" %}

{% block content %}
<div class="container py-4">
  <h2 class="mb-3"><i class="bi bi-cloud-upload"></i> Upload Media</h2>
  <form method="POST" action="{{ url_for('main.upload_media', project_id=project.id) }}" enctype="multipart/form-data">
    <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
    <div class="mb-3">
      <label class="form-label">Select File</label>
      <input class="form-control" type="file" name="file" required>
      <small class="text-muted">Allowed: {{ current_app.config['ALLOWED_VIDEO_EXTENSIONS'] | join(', ') }}, {{ current_app.config['ALLOWED_IMAGE_EXTENSIONS'] | join(', ') }}</small>
    </div>
    <div class="mb-3">
      <label class="form-label">Media Type</label>
      <select class="form-select" name="media_type" required>
        {% for t in media_types %}
          <option value="{{ t.value }}">{{ t.name.title() }}</option>
        {% endfor %}
      </select>
    </div>
    <div class="d-flex gap-2">
      <button class="btn btn-primary" type="submit"><i class="bi bi-upload"></i> Upload</button>
      <a class="btn btn-secondary" href="{{ url_for('main.project_details', project_id=project.id) }}">Back</a>
    </div>
  </form>
</div>
{% endblock %}
