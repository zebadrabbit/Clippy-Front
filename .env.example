# Flask Application Configuration
FLASK_ENV=development
FLASK_DEBUG=true
FLASK_HOST=0.0.0.0
FLASK_PORT=5000

# Security Configuration
SECRET_KEY=your-super-secret-key-change-this-in-production-MUST-BE-RANDOM

# Database Configuration
# In development, precedence is: DATABASE_URL (if set) > DEV_DATABASE_URL > default
# Recommendation:
# - Use PostgreSQL in all environments (SQLite is reserved for tests only)
# - In prod, set DATABASE_URL only; in dev, you may set DEV_DATABASE_URL

DATABASE_URL=postgresql://postgres:postgres@localhost/clippy_front

# Development-only DB URL (used when DATABASE_URL is not set)
# Example (PostgreSQL):
# DEV_DATABASE_URL=postgresql://postgres:postgres@localhost/clippy_front
DEV_DATABASE_URL=postgresql://postgres:postgres@localhost/clippy_front_dev

# For production, PostgreSQL is required:
# DATABASE_URL=postgresql://username:password@your-host/clippy_front

# Redis Configuration (for Celery and rate limiting)
REDIS_URL=redis://localhost:6379/0
CELERY_BROKER_URL=redis://localhost:6379/0
CELERY_RESULT_BACKEND=redis://localhost:6379/0

# File Upload Configuration
UPLOAD_FOLDER=uploads
MAX_CONTENT_LENGTH=104857600  # 100MB in bytes

# External API Configuration
DISCORD_BOT_TOKEN=your-discord-bot-token-here
TWITCH_CLIENT_ID=your-twitch-client-id-here
TWITCH_CLIENT_SECRET=your-twitch-client-secret-here

# Video Processing Configuration
# If you ran scripts/install_local_binaries.sh, you can point to ./bin
FFMPEG_BINARY=ffmpeg
YT_DLP_BINARY=yt-dlp
OUTPUT_VIDEO_QUALITY=high
# Set to 1/true to force CPU encoding and skip NVENC
FFMPEG_DISABLE_NVENC=
# Optional: override NVENC preset (slow, medium, p1..p7 depending on ffmpeg build)
FFMPEG_NVENC_PRESET=
# Optional: disable overlay (author/game text) if needed (1/true)
DISABLE_OVERLAY=
# Optional: path overrides for assets (defaults under instance/assets)
STATIC_BUMPER_PATH=
AVATARS_PATH=
# Optional: path aliasing for media produced on remote workers
# Replace prefix MEDIA_PATH_ALIAS_FROM with MEDIA_PATH_ALIAS_TO when serving previews/thumbnails
MEDIA_PATH_ALIAS_FROM=
MEDIA_PATH_ALIAS_TO=
# Optional: keep temp files on the shared instance filesystem to avoid EXDEV during final save
# e.g., TMPDIR=/app/instance/tmp when /app/instance is a CIFS/SMB mount
TMPDIR=

# Security Headers (Talisman)
FORCE_HTTPS=false  # Set to true in production
STRICT_TRANSPORT_SECURITY=true
# Note: Vendor assets (Dropzone/Video.js) are served locally from app/static/vendor
# Run scripts/fetch_vendor_assets.sh if assets are missing

# Rate Limiting
RATELIMIT_DEFAULT=100 per hour
RATELIMIT_STORAGE_URL=redis://localhost:6379/0

# Pagination Settings
PROJECTS_PER_PAGE=20
MEDIA_PER_PAGE=20
ADMIN_USERS_PER_PAGE=25
ADMIN_PROJECTS_PER_PAGE=25

# Email Configuration (for password reset, notifications)
MAIL_SERVER=smtp.gmail.com
MAIL_PORT=587
MAIL_USE_TLS=true
MAIL_USERNAME=your-email@gmail.com
MAIL_PASSWORD=your-app-password
MAIL_DEFAULT_SENDER=noreply@clippyfront.com

# Logging Configuration
LOG_LEVEL=INFO
LOG_FILE=logs/clippyfront.log

# Development/Production Flags
ENABLE_DEBUG_TOOLBAR=false
ENABLE_PROFILER=false
TESTING=false
AUTO_REINDEX_ON_STARTUP=
